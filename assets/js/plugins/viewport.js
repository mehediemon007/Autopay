!function(e){e.fn.isInViewport=function t(n){var r=this.get(0).getBoundingClientRect(),o=r.top,l=r.bottom,s=""+this.get(0).offsetLeft+this.get(0).offsetTop+this.get(0).offsetHeight+this.get(0).offsetWidth,r=(n=e.extend({tolerance:0,toleranceForLast:r.height,debug:!1},n)).tolerance,g=n.toleranceForLast;return t.elementsAfterCurrent=t.elementsAfterCurrent||{},t.elementsAfterCurrent[s]=t.elementsAfterCurrent[s]||this.nextAll(),r&&(1===t.elementsAfterCurrent[s].length&&0>o&&(o*=-1),t.elementsAfterCurrent[s].length||(r=g)),n.debug&&(console.log("---------------------------------------"),console.log("index: "+s),console.log("div: "+this.text().trim()),console.log("top: "+o),console.log("bottom: "+l),console.log("tolerance: "+r),console.log("tolerance for last element: "+g)),r?0<=o?o<=r:l>r:0<=o}}(jQuery);